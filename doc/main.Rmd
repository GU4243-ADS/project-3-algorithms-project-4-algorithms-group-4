---
title: "Collaborative Filtering"
author: "Group 4"
date: "4/8/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Step 0: Load Data
```{r}
# setwd("/Users/Nicole/Documents/GitHub/project-3-algorithms-project-4-algorithms-group-4/doc")
# Change working directory 

load(file = "../data/MS_UI.RData")
load(file = "../data/movie_UI.RData")
```


## Task: Memory Based Collaborative Filtering

### Comparing different similarity weights
#### Pearson correlation
```{r}
# Weights
load(file = "../data/MS_sim.RData")
load(file = "../data/movie_sim.RData")

# Predictions
load(file ="../data/MS_pred.RData")
load(file = "../data/movie_pred.RData")
```

#### Spearman's correlation
```{r}
MS_train <- MS_UI
Movie_train <- movie_UI 


```

#### Vector similarity
```{r}

```


#### Mean-Square Difference
```{r}
# Weights
load(file = "../output/weights_MSD_train_MS.RData")
load(file = "../output/weights_MSD_train_Movie.RData")

# Predictions
load(file ="../output/weights_MSD_train_MS_pred.RData")
load(file = "../output/weights_MSD_train_Movie_pred.RData")
```


#### SimRank
```{r}
# Weights
load(file = "../output/weights_usersim_train_Movie.RData")

# Predictions
load(file = "../output/weights_usersim_train_Movie_pred.RData")
```


## Task: Group 4 Specific Assignment - Neighbors 
```{r}

```



## Task: Model Based Collaborative Filtering

### Step 1: Build EM algorithm 
E-step: $aic := log(\hat{\mu}) + \sum log(\gamma) - log(\sum e^{log (\mu) + \sum log (\gamma)})$

M-step: $\hat{\mu}_c = \frac{1}{N} \sum_{i = 1}^N a_{ic} \text{for} c = 1, 2, ... , C$  
$\hat{gamma}_{c,j}^{k} = \frac{\sum_{i|j \in I(i)} a_{ic}(r_{i,j} = k})}{\sum_{i|j \in I(i)} a_{ic}} \text{for } c, j, k$. 
```{r}
## Initialize parameters


## E-step


## M-step
```


### Step 2: Cross validation to choose the best number of clusters
```{r}

```


### Step 3: Predict ratings
```{r}

```

<<<<<<< HEAD
### Step 3: Calculate test error
=======

### Step 4: Calculate test error
>>>>>>> 61a4ead2b7071ce53d32c63cc038e8732da228ac
```{r}

```

